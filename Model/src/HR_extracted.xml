<?xml version = '1.0' encoding = 'windows-1252'?>
<Module version="101020002" xmlns="http://xmlns.oracle.com/Forms">
   <FormModule Name="HR" ConsoleWindow="MAIN_WIN" DirtyInfo="true" MenuModule="DEFAULT&amp;SMARTBAR" Title="MODULE1">
      <Coordinate CharacterCellWidth="7" CoordinateSystem="1" CharacterCellHeight="14" RealUnit="3" DefaultFontScaling="true"/>
      <Block Name="DEPARTMENTS" DirtyInfo="true" QueryDataSourceName="DEPARTMENTS" ScrollbarWidth="14" ScrollbarLength="135">
         <Item Name="MANAGER_ID" DirtyInfo="true" Height="14" MaximumLength="7" Width="54" ItemType="9" DataType="1" Prompt="Manager Id" ColumnName="MANAGER_ID"/>
         <Item Name="LOCATION_ID" DirtyInfo="true" Height="14" MaximumLength="5" Width="41" ItemType="9" DataType="1" Prompt="Location Id" ColumnName="LOCATION_ID"/>
         <Item Name="DEPARTMENT_ID" DirtyInfo="true" Height="14" XPosition="123" PromptFontName="Tahoma" PromptFontSpacing="4" PromptFontSize="800" Width="41" Required="true" ColumnName="DEPARTMENT_ID" DataType="1" DistanceBetweenRecords="14" YPosition="28" PromptDisplayStyle="2" ItemsDisplay="0" MaximumLength="5" PromptAttachmentOffset="7" ItemType="9" TabPageName="" CanvasName="MAIN_CV" Prompt="Id" PromptFontStyle="0" PromptFontWeight="3"/>
         <Item Name="DEPARTMENT_NAME" DirtyInfo="true" Height="14" XPosition="123" PromptFontName="Tahoma" PromptFontSpacing="4" PromptFontSize="800" Width="209" Required="true" ColumnName="DEPARTMENT_NAME" DistanceBetweenRecords="14" YPosition="43" DataLengthSemantics="1" PromptDisplayStyle="2" ItemsDisplay="0" PromptAttachmentOffset="7" ItemType="9" TabPageName="" CanvasName="MAIN_CV" Prompt="Name" PromptFontStyle="0" PromptFontWeight="3"/>
         <Item Name="LOCATION" FontSize="800" DirtyInfo="true" Height="14" Justification="3" XPosition="123" FontName="Tahoma" ForegroundColor="black" DatabaseItem="false" Width="77" YPosition="60" FontSpacing="4" BackColor="r75g88b75" MaximumLength="65" FontWeight="3" PromptAttachmentOffset="5" FontStyle="0" ItemType="3" CanvasName="MAIN_CV" Prompt="Location"/>
         <Item Name="MANAGER" FontSize="800" DirtyInfo="true" Height="14" Justification="3" XPosition="123" FontName="Tahoma" ForegroundColor="black" DatabaseItem="false" Width="78" YPosition="74" FontSpacing="4" BackColor="r75g88b75" MaximumLength="65" FontWeight="3" PromptAttachmentOffset="5" FontStyle="0" ItemType="3" CanvasName="MAIN_CV" Prompt="Manager"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="4" DSCName="DEPARTMENT_ID" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="0" DSCNochildren="false" DSCLength="30" DSCPrecision="0" DSCName="DEPARTMENT_NAME" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="6" DSCName="MANAGER_ID" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="4" DSCName="LOCATION_ID" DSCScale="0" DSCMandatory="false"/>
         <Relation Name="DEPARTMENTS_EMPLOYEES" RelationType="0" DirtyInfo="true" DeleteRecord="2" DetailBlock="EMPLOYEES" AutoQuery="false" PreventMasterlessOperations="false" Deferred="false" JoinCondition="EMPLOYEES.DEPARTMENT_ID = DEPARTMENTS.DEPARTMENT_ID"/>
         <Trigger Name="ON-POPULATE-DETAILS" TriggerText="--&amp;#10;-- Begin default relation declare section&amp;#10;--&amp;#10;DECLARE&amp;#10;  recstat     VARCHAR2(20) := :System.record_status;   &amp;#10;  startitm    VARCHAR2(61) := :System.cursor_item;   &amp;#10;  rel_id      Relation;&amp;#10;--&amp;#10;-- End default relation declare section&amp;#10;--&amp;#10;--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  IF ( recstat = 'NEW' or recstat = 'INSERT' ) THEN   &amp;#10;    RETURN;&amp;#10;  END IF;&amp;#10;  --&amp;#10;  -- Begin EMPLOYEES detail program section&amp;#10;  --&amp;#10;  IF ( (:DEPARTMENTS.DEPARTMENT_ID is not null) ) THEN   &amp;#10;    rel_id := Find_Relation('DEPARTMENTS.DEPARTMENTS_EMPLOYEES');   &amp;#10;    Query_Master_Details(rel_id, 'EMPLOYEES');   &amp;#10;  END IF;&amp;#10;  --&amp;#10;  -- End EMPLOYEES detail program section&amp;#10;  --&amp;#10;&amp;#10;  IF ( :System.cursor_item &lt;> startitm ) THEN     &amp;#10;     Go_Item(startitm);     &amp;#10;     Check_Package_Failure;     &amp;#10;  END IF;&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="ON-CHECK-DELETE-MASTER" TriggerText="--&amp;#10;-- Begin default relation declare section&amp;#10;--&amp;#10;DECLARE&amp;#10;  Dummy_Define CHAR(1);&amp;#10;  --&amp;#10;  -- Begin EMPLOYEES detail declare section&amp;#10;  --&amp;#10;  CURSOR EMPLOYEES_cur IS      &amp;#10;    SELECT 1 FROM EMPLOYEES E     &amp;#10;    WHERE E.DEPARTMENT_ID = :DEPARTMENTS.DEPARTMENT_ID;&amp;#10;  --&amp;#10;  -- End EMPLOYEES detail declare section&amp;#10;  --&amp;#10;--&amp;#10;-- End default relation declare section&amp;#10;--&amp;#10;--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Begin EMPLOYEES detail program section&amp;#10;  --&amp;#10;  OPEN EMPLOYEES_cur;     &amp;#10;  FETCH EMPLOYEES_cur INTO Dummy_Define;     &amp;#10;  IF ( EMPLOYEES_cur%found ) THEN     &amp;#10;    Message('Cannot delete master record when matching detail records exist.');     &amp;#10;    CLOSE EMPLOYEES_cur;     &amp;#10;    RAISE Form_Trigger_Failure;     &amp;#10;  END IF;&amp;#10;  CLOSE EMPLOYEES_cur;&amp;#10;  --&amp;#10;  -- End EMPLOYEES detail program section&amp;#10;  --&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" TriggerText="SELECT CITY || ', ' || STATE_PROVINCE || ', '&amp;#10;|| COUNTRY_ID&amp;#10;INTO :departments.location&amp;#10;FROM locations&amp;#10;WHERE :departments.location_id = location_id;&amp;#10;&amp;#10;SELECT FIRST_NAME || ' ' || LAST_NAME&amp;#10;INTO :departments.manager&amp;#10;FROM employees&amp;#10;WHERE :departments.manager_id = employee_id;" DirtyInfo="true"/>
      </Block>
      <Block Name="EMPLOYEES" ScrollbarTabPageName="" DirtyInfo="true" QueryDataSourceName="EMPLOYEES" ScrollbarWidth="14" ScrollbarYPosition="132" ShowScrollbar="true" ScrollbarCanvasName="MAIN_CV" ScrollbarLength="70" RecordsDisplayCount="5" ScrollbarXPosition="911" QueryAllRecords="true">
         <Item Name="MANAGER_ID" DirtyInfo="true" Height="14" MaximumLength="7" Width="54" ItemType="9" DataType="1" Prompt="Manager Id" ColumnName="MANAGER_ID"/>
         <Item Name="DEPARTMENT_ID" DirtyInfo="true" Height="14" CopyValueFromItem="DEPARTMENTS.DEPARTMENT_ID" MaximumLength="5" Width="41" ItemType="9" DataType="1" Prompt="Department Id" ColumnName="DEPARTMENT_ID"/>
         <Item Name="EMPLOYEE_ID" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="24" Width="54" Required="true" ColumnName="EMPLOYEE_ID" DataType="1" YPosition="133" PromptDisplayStyle="1" ItemsDisplay="0" MaximumLength="7" PromptAttachmentEdge="2" ItemType="9" TabPageName="" CanvasName="MAIN_CV" Prompt="ID"/>
         <Item Name="FIRST_NAME" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="78" Width="142" ColumnName="FIRST_NAME" YPosition="133" DataLengthSemantics="0" PromptDisplayStyle="1" ItemsDisplay="0" MaximumLength="20" PromptAttachmentEdge="2" ItemType="9" TabPageName="" CanvasName="MAIN_CV" Prompt="First Name"/>
         <Item Name="LAST_NAME" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="220" Width="176" Required="true" ColumnName="LAST_NAME" YPosition="133" DataLengthSemantics="0" PromptDisplayStyle="1" ItemsDisplay="0" MaximumLength="25" PromptAttachmentEdge="2" ItemType="9" TabPageName="" CanvasName="MAIN_CV" Prompt="Last Name"/>
         <Item Name="DETAILS_BTN" FontSize="800" DirtyInfo="true" Height="14" XPosition="396" FontName="Tahoma" ForegroundColor="black" Width="50" YPosition="133" FontSpacing="4" Label="Details" BackColor="white" FontWeight="3" FontStyle="0" ItemType="7" CanvasName="MAIN_CV">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="GO_ITEM('job_id');" DirtyInfo="true"/>
            <Trigger Name="KEY-NEXT-ITEM" TriggerText="do_key('next_record');" DirtyInfo="true"/>
         </Item>
         <Item Name="JOB_ID" DirtyInfo="true" Height="14" XPosition="75" LovName="LOV17" Width="74" Required="true" ValidateFromList="true" ColumnName="JOB_ID" YPosition="66" DataLengthSemantics="0" ItemsDisplay="1" MaximumLength="10" PromptAttachmentOffset="5" ItemType="9" TabPageName="" CanvasName="EMP_DETAILS_CV" Prompt="Job Id"/>
         <Item Name="M_EMPLOYEE_ID" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="76" SynchronizedItemName="EMPLOYEE_ID" DatabaseItem="true" Width="54" Required="false" ColumnName="EMPLOYEE_ID" DataType="1" YPosition="17" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="7" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="ID"/>
         <Item Name="M_FIRST_NAME" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="74" SynchronizedItemName="FIRST_NAME" DatabaseItem="true" Width="142" Required="false" ColumnName="FIRST_NAME" YPosition="41" DataLengthSemantics="0" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="0" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="First Name"/>
         <Item Name="M_LAST_NAME" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="280" SynchronizedItemName="LAST_NAME" DatabaseItem="true" Width="176" Required="false" ColumnName="LAST_NAME" YPosition="42" DataLengthSemantics="0" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="0" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="Last Name"/>
         <Item Name="EMAIL" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="72" PromptFontName="Tahoma" PromptFontSpacing="4" PromptFontSize="800" Width="176" PromptAlignOffset="0" Required="true" ColumnName="EMAIL" YPosition="95" DataLengthSemantics="1" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="25" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="Email" PromptFontStyle="0" PromptFontWeight="3"/>
         <Item Name="PHONE_NUMBER" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="313" Width="142" PromptAlignOffset="0" ColumnName="PHONE_NUMBER" YPosition="95" DataLengthSemantics="1" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="20" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="Phone"/>
         <Item Name="HIRE_DATE" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="73" Width="81" PromptAlignOffset="0" Required="true" ColumnName="HIRE_DATE" DataType="2" YPosition="135" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="11" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="Hire Date"/>
         <Item Name="SALARY" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="233" Width="74" PromptAlignOffset="0" ColumnName="SALARY" DataType="1" YPosition="137" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="10" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="Salary"/>
         <Item Name="COMMISSION_PCT" DirtyInfo="true" Height="14" PromptAlign="2" XPosition="410" Width="43" PromptAlignOffset="0" ColumnName="COMMISSION_PCT" DataType="1" YPosition="136" PromptDisplayStyle="1" ItemsDisplay="1" MaximumLength="4" PromptAttachmentEdge="0" PromptAttachmentOffset="5" ItemType="9" CanvasName="EMP_DETAILS_CV" Prompt="Commission %"/>
         <Item Name="JOB_LOV_BTN" FontSize="800" DirtyInfo="true" Height="20" XPosition="153" FontName="Tahoma" ForegroundColor="black" Width="40" YPosition="64" FontSpacing="4" Label="Job List" BackColor="r88g88b100" ItemsDisplay="1" FontWeight="3" FontStyle="0" ItemType="7" CanvasName="EMP_DETAILS_CV">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="GO_ITEM('EMPLOYEES.JOB_ID');&amp;#10;LIST_VALUES;" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="6" DSCName="EMPLOYEE_ID" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="0" DSCNochildren="false" DSCLength="20" DSCPrecision="0" DSCName="FIRST_NAME" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="0" DSCNochildren="false" DSCLength="25" DSCPrecision="0" DSCName="LAST_NAME" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="0" DSCNochildren="false" DSCLength="25" DSCPrecision="0" DSCName="EMAIL" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="0" DSCNochildren="false" DSCLength="20" DSCPrecision="0" DSCName="PHONE_NUMBER" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="4" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="HIRE_DATE" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="0" DSCNochildren="false" DSCLength="10" DSCPrecision="0" DSCName="JOB_ID" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="8" DSCName="SALARY" DSCScale="2" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="2" DSCName="COMMISSION_PCT" DSCScale="2" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="6" DSCName="MANAGER_ID" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="1" DSCNochildren="false" DSCLength="0" DSCPrecision="4" DSCName="DEPARTMENT_ID" DSCScale="0" DSCMandatory="false"/>
      </Block>
      <Block Name="CONTROL" DirtyInfo="true" ScrollbarWidth="14" SingleRecord="true" ScrollbarLength="135">
         <Item Name="SAL_SUM" Height="14" ForegroundColor="black" Width="74" FontSpacing="4" MaximumLength="14" FontWeight="3" ItemType="9" Prompt="Total Salaries" FormatMask="$9,999,999.00" SummaryFunction="6" FontSize="800" Justification="3" DirtyInfo="true" XPosition="235" FontName="Tahoma" SummaryBlockName="EMPLOYEES" DataType="1" YPosition="71" BackColor="white" CalculateMode="2" PromptAttachmentEdge="2" SummaryItemName="SALARY" FontStyle="0" CanvasName="MAIN_CV"/>
      </Block>
      <Canvas Name="MAIN_CV" ViewportHeight="324" DirtyInfo="true" Height="324" WindowName="MAIN_WIN" Width="939" ViewportWidth="540" CanvasType="0">
         <Graphics Name="FRAME5" GraphicsText="" FrameTitleOffset="14" Height="81" VerticalMargin="14" GraphicsFontColor="" GraphicsFontSpacing="0" Width="477" GraphicsFontSize="0" GraphicsFontWeight="0" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="0" HorizontalObjectOffset="14" EdgeBackColor="white" FrameTitle="Department" DirtyInfo="true" XPosition="7" Bevel="3" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" FrameTitleSpacing="7" EdgePattern="solid" YPosition="21" GraphicsType="8" GraphicsFontName="" LayoutDataBlockName="DEPARTMENTS" UpdateLayout="0"/>
         <Graphics Name="ROUNDRECT6" GraphicsText="" Height="67" VerticalMargin="14" GraphicsFontColor="" GraphicsFontSpacing="0" Width="312" GraphicsFontSize="0" GraphicsFontWeight="0" StartPromptOffset="7" FillPattern="transparent" GraphicsFontColorCode="0" HorizontalObjectOffset="14" CornerRadiusY="10" EdgeBackColor="white" DirtyInfo="true" Bevel="3" XPosition="72" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" EdgePattern="solid" YPosition="26" GraphicsType="5" BackColor="r75g88b75" GraphicsFontName="" CornerRadiusX="10"/>
         <Graphics Name="FRAME11" GraphicsText="" FrameTitleOffset="14" Height="118" VerticalMargin="14" GraphicsFontColor="" GraphicsFontSpacing="0" Width="479" GraphicsFontSize="0" GraphicsFontWeight="0" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="0" HorizontalObjectOffset="0" EdgeBackColor="white" FrameTitle="Employees" ShowScrollbar="true" RecordsDisplayCount="5" LayoutStyle="1" DirtyInfo="true" XPosition="7" Bevel="3" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" FrameTitleSpacing="7" EdgePattern="solid" YPosition="109" GraphicsType="8" GraphicsFontName="" LayoutDataBlockName="EMPLOYEES" UpdateLayout="0"/>
      </Canvas>
      <Canvas Name="EMP_DETAILS_CV" ViewportHeight="324" BackColor="r88g88b100" DirtyInfo="true" Height="241" WindowName="EMP_DETAILS_WIN" ViewportXPositionOnCanvas="0" Width="543" ViewportWidth="540" ViewportYPositionOnCanvas="0"/>
      <LOV Name="LOV17" RecordGroupName="LOV17" DirtyInfo="true" Height="300" AutoPosition="true" Width="250" Title="Jobs">
         <LOVColumnMapping Name="TITLE" DirtyInfo="true" ReturnItem="" DisplayWidth="243" Title="Title"/>
         <LOVColumnMapping Name="ID" DirtyInfo="true" ReturnItem="EMPLOYEES.JOB_ID" DisplayWidth="74" Title="Id"/>
      </LOV>
      <ProgramUnit Name="CHECK_PACKAGE_FAILURE" ProgramUnitType="1" ProgramUnitText="Procedure Check_Package_Failure IS&amp;#10;BEGIN&amp;#10;  IF NOT ( Form_Success ) THEN&amp;#10;    RAISE Form_Trigger_Failure;&amp;#10;  END IF;&amp;#10;END;"/>
      <ProgramUnit Name="QUERY_MASTER_DETAILS" ProgramUnitType="1" ProgramUnitText="PROCEDURE Query_Master_Details(rel_id Relation,detail VARCHAR2) IS&amp;#10;  oldmsg VARCHAR2(2);  -- Old Message Level Setting&amp;#10;  reldef VARCHAR2(5);  -- Relation Deferred Setting&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Initialize Local Variable(s)&amp;#10;  --&amp;#10;  reldef := Get_Relation_Property(rel_id, DEFERRED_COORDINATION);&amp;#10;  oldmsg := :System.Message_Level;&amp;#10;  --&amp;#10;  -- If NOT Deferred, Goto detail and execute the query.&amp;#10;  --&amp;#10;  IF reldef = 'FALSE' THEN&amp;#10;    Go_Block(detail);&amp;#10;    Check_Package_Failure;&amp;#10;    :System.Message_Level := '10';&amp;#10;    Execute_Query;&amp;#10;    :System.Message_Level := oldmsg;&amp;#10;  ELSE&amp;#10;    --&amp;#10;    -- Relation is deferred, mark the detail block as un-coordinated&amp;#10;    --&amp;#10;    Set_Block_Property(detail, COORDINATION_STATUS, NON_COORDINATED);&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;    WHEN Form_Trigger_Failure THEN&amp;#10;      :System.Message_Level := oldmsg;&amp;#10;      RAISE;&amp;#10;END Query_Master_Details;&amp;#10;"/>
      <ProgramUnit Name="CLEAR_ALL_MASTER_DETAILS" ProgramUnitType="1" ProgramUnitText="PROCEDURE Clear_All_Master_Details IS&amp;#10;  mastblk  VARCHAR2(30);  -- Initial Master Block Causing Coord&amp;#10;  coordop  VARCHAR2(30);  -- Operation Causing the Coord&amp;#10;  trigblk  VARCHAR2(30);  -- Cur Block On-Clear-Details Fires On&amp;#10;  startitm VARCHAR2(61);  -- Item in which cursor started&amp;#10;  frmstat  VARCHAR2(15);  -- Form Status&amp;#10;  curblk   VARCHAR2(30);  -- Current Block&amp;#10;  currel   VARCHAR2(30);  -- Current Relation&amp;#10;  curdtl   VARCHAR2(30);  -- Current Detail Block&amp;#10;&amp;#10;  FUNCTION First_Changed_Block_Below(Master VARCHAR2)&amp;#10;  RETURN VARCHAR2 IS&amp;#10;    curblk VARCHAR2(30);  -- Current Block&amp;#10;    currel VARCHAR2(30);  -- Current Relation&amp;#10;    retblk VARCHAR2(30);  -- Return Block&amp;#10;  BEGIN&amp;#10;    --&amp;#10;    -- Initialize Local Vars&amp;#10;    --&amp;#10;    curblk := Master;&amp;#10;    currel := Get_Block_Property(curblk,  FIRST_MASTER_RELATION);&amp;#10;    --&amp;#10;    -- While there exists another relation for this block&amp;#10;    --&amp;#10;    WHILE currel IS NOT NULL LOOP&amp;#10;      --&amp;#10;      -- Get the name of the detail block&amp;#10;      --&amp;#10;      curblk := Get_Relation_Property(currel, DETAIL_NAME);&amp;#10;      --&amp;#10;      -- If this block has changes, return its name&amp;#10;      --&amp;#10;      IF ( Get_Block_Property(curblk, STATUS) = 'CHANGED' ) THEN&amp;#10;        RETURN curblk;&amp;#10;      ELSE&amp;#10;        --&amp;#10;        -- No changes, recursively look for changed blocks below&amp;#10;        --&amp;#10;        retblk := First_Changed_Block_Below(curblk);&amp;#10;        --&amp;#10;        -- If some block below is changed, return its name&amp;#10;        --&amp;#10;        IF retblk IS NOT NULL THEN&amp;#10;          RETURN retblk;&amp;#10;        ELSE&amp;#10;          --&amp;#10;          -- Consider the next relation&amp;#10;          --&amp;#10;          currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;#10;        END IF;&amp;#10;      END IF;&amp;#10;    END LOOP;&amp;#10;&amp;#10;    --&amp;#10;    -- No changed blocks were found&amp;#10;    --&amp;#10;    RETURN NULL;&amp;#10;  END First_Changed_Block_Below;&amp;#10;&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Init Local Vars&amp;#10;  --&amp;#10;  mastblk  := :System.Master_Block;&amp;#10;  coordop  := :System.Coordination_Operation;&amp;#10;  trigblk  := :System.Trigger_Block;&amp;#10;  startitm := :System.Cursor_Item;&amp;#10;  frmstat  := :System.Form_Status;&amp;#10;&amp;#10;  --&amp;#10;  -- If the coordination operation is anything but CLEAR_RECORD or&amp;#10;  -- SYNCHRONIZE_BLOCKS, then continue checking.&amp;#10;  --&amp;#10;  IF coordop NOT IN ('CLEAR_RECORD', 'SYNCHRONIZE_BLOCKS') THEN&amp;#10;    --&amp;#10;    -- If we're processing the driving master block...&amp;#10;    --&amp;#10;    IF mastblk = trigblk THEN&amp;#10;      --&amp;#10;      -- If something in the form is changed, find the&amp;#10;      -- first changed block below the master&amp;#10;      --&amp;#10;      IF frmstat = 'CHANGED' THEN&amp;#10;        curblk := First_Changed_Block_Below(mastblk);&amp;#10;        --&amp;#10;        -- If we find a changed block below, go there&amp;#10;        -- and Ask to commit the changes.&amp;#10;        --&amp;#10;        IF curblk IS NOT NULL THEN&amp;#10;          Go_Block(curblk);&amp;#10;          Check_Package_Failure;&amp;#10;          Clear_Block(ASK_COMMIT);&amp;#10;          --&amp;#10;          -- If user cancels commit dialog, raise error&amp;#10;          --&amp;#10;          IF NOT ( :System.Form_Status = 'QUERY'&amp;#10;                   OR :System.Block_Status = 'NEW' ) THEN&amp;#10;            RAISE Form_Trigger_Failure;&amp;#10;          END IF;&amp;#10;        END IF;&amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;  END IF;&amp;#10;&amp;#10;  --&amp;#10;  -- Clear all the detail blocks for this master without&amp;#10;  -- any further asking to commit.&amp;#10;  --&amp;#10;  currel := Get_Block_Property(trigblk, FIRST_MASTER_RELATION);&amp;#10;  WHILE currel IS NOT NULL LOOP&amp;#10;    curdtl := Get_Relation_Property(currel, DETAIL_NAME);&amp;#10;    IF Get_Block_Property(curdtl, STATUS) &lt;> 'NEW'  THEN&amp;#10;      Go_Block(curdtl);&amp;#10;      Check_Package_Failure;&amp;#10;      Clear_Block(NO_VALIDATE);&amp;#10;      IF :System.Block_Status &lt;> 'NEW' THEN&amp;#10;        RAISE Form_Trigger_Failure;&amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;    currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;#10;  END LOOP;&amp;#10;&amp;#10;  --&amp;#10;  -- Put cursor back where it started&amp;#10;  --&amp;#10;  IF :System.Cursor_Item &lt;> startitm THEN&amp;#10;    Go_Item(startitm);&amp;#10;    Check_Package_Failure;&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;  WHEN Form_Trigger_Failure THEN&amp;#10;    IF :System.Cursor_Item &lt;> startitm THEN&amp;#10;      Go_Item(startitm);&amp;#10;    END IF;&amp;#10;    RAISE;&amp;#10;&amp;#10;END Clear_All_Master_Details;&amp;#10;"/>
      <RecordGroup Name="LOV17" DirtyInfo="true" RecordGroupFetchSize="20" RecordGroupQuery="SELECT job_title TITLE, job_id ID&amp;#10;FROM jobs&amp;#10;ORDER BY job_title">
         <RecordGroupColumn Name="TITLE" DataLengthSemantics="1" DirtyInfo="true" MaximumLength="35" ColumnDataType="0"/>
         <RecordGroupColumn Name="ID" DataLengthSemantics="1" DirtyInfo="true" MaximumLength="10" ColumnDataType="0"/>
      </RecordGroup>
      <Trigger Name="ON-CLEAR-DETAILS" TriggerText="--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  Clear_All_Master_Details;&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
      <Trigger Name="WHEN-NEW-FORM-INSTANCE" TriggerText="DO_KEY('EXECUTE_QUERY');" DirtyInfo="true"/>
      <Trigger Name="WHEN-WINDOW-CLOSED" TriggerText="IF :SYSTEM.CURSOR_ITEM IN ('EMPLOYEES.M_EMPLOYEE_ID',&amp;#10;   'EMPLOYEES.M_FIRST_NAME',&amp;#10;   'EMPLOYEES.M_LAST_NAME',&amp;#10;   'EMPLOYEES.JOB_ID',&amp;#10;   'EMPLOYEES.EMAIL',&amp;#10;   'EMPLOYEES.PHONE_NUMBER',&amp;#10;   'EMPLOYEES.HIRE_DATE',&amp;#10;   'EMPLOYEES.SALARY',&amp;#10;   'EMPLOYEES.COMMISSION_PCT') THEN&amp;#10;   GO_ITEM('employee_id');&amp;#10;   HIDE_WINDOW('emp_details_win');&amp;#10;END IF;" DirtyInfo="true"/>
      <Window Name="MAIN_WIN" DirtyInfo="true" Height="324" Width="540" Title="Departments and Employees"/>
      <Window Name="EMP_DETAILS_WIN" DirtyInfo="true" Height="241" XPosition="150" Width="543" YPosition="29" Title="Employee Details"/>
   </FormModule>
<TableDefinition ID="DEPARTMENTS" Name="DEPARTMENTS" Alias="DEPARTMENTS" TableType="TABLE" DisplayTitle="DEPARTMENTS" xmlns=""><ConstraintDefinition ID="DEPT_NAME_NN" Name="DEPT_NAME_NN" ConstraintType="C" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="DEPT_NAME_NN.DEPARTMENT_NAME" Name="DEPARTMENT_NAME1" ConstraintType="C" ColumnReference="DEPARTMENTS.DEPARTMENT_NAME" ForeignColumnReference=""/></ConstraintDefinition><ColumnDefinition ID="DEPARTMENTS.DEPARTMENT_NAME" Name="DEPARTMENT_NAME" Datatype="VARCHAR2" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="30" NullIndicator="N"/><ColumnDefinition ID="DEPARTMENTS.LOCATION_ID" Name="LOCATION_ID" Datatype="NUMBER" DecimalPlaces="0" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="Y"/><ColumnDefinition ID="DEPARTMENTS.MANAGER_ID" Name="MANAGER_ID" Datatype="NUMBER" DecimalPlaces="0" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="Y"/><ConstraintDefinition ID="DEPT_MGR_FK" Name="DEPT_MGR_FK" ConstraintType="R" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="EMPLOYEES" PrimaryKeyReference="EMP_EMP_ID_PK" UniqueKeyReference=""><KeyComponent ID="DEPT_MGR_FK.MANAGER_ID" Name="MANAGER_ID1" ConstraintType="R" ColumnReference="DEPARTMENTS.MANAGER_ID" ForeignColumnReference="EMPLOYEES.EMPLOYEE_ID"/></ConstraintDefinition><ConstraintDefinition ID="DEPT_LOC_FK" Name="DEPT_LOC_FK" ConstraintType="R" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="LOCATIONS" PrimaryKeyReference="LOC_ID_PK" UniqueKeyReference=""><KeyComponent ID="DEPT_LOC_FK.LOCATION_ID" Name="LOCATION_ID1" ConstraintType="R" ColumnReference="DEPARTMENTS.LOCATION_ID" ForeignColumnReference="LOCATIONS.LOCATION_ID"/></ConstraintDefinition><ConstraintDefinition ID="DEPT_ID_PK" Name="DEPT_ID_PK" ConstraintType="P" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="DEPT_ID_PK.DEPARTMENT_ID" Name="DEPARTMENT_ID1" ConstraintType="P" ColumnReference="DEPARTMENTS.DEPARTMENT_ID" ForeignColumnReference=""/></ConstraintDefinition><ColumnDefinition ID="DEPARTMENTS.DEPARTMENT_ID" Name="DEPARTMENT_ID" Datatype="NUMBER" DecimalPlaces="0" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="N"/></TableDefinition><TableDefinition ID="EMPLOYEES" Name="EMPLOYEES" Alias="EMPLOYEES" TableType="TABLE" DisplayTitle="EMPLOYEES" xmlns=""><ColumnDefinition ID="EMPLOYEES.DEPARTMENT_ID" Name="DEPARTMENT_ID" Datatype="NUMBER" DecimalPlaces="0" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="Y"/><ColumnDefinition ID="EMPLOYEES.FIRST_NAME" Name="FIRST_NAME" Datatype="VARCHAR2" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="20" NullIndicator="Y"/><ColumnDefinition ID="EMPLOYEES.HIRE_DATE" Name="HIRE_DATE" Datatype="DATE" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="7" NullIndicator="N"/><ConstraintDefinition ID="EMP_DEPT_FK" Name="EMP_DEPT_FK" ConstraintType="R" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="DEPARTMENTS" PrimaryKeyReference="DEPT_ID_PK" UniqueKeyReference=""><KeyComponent ID="EMP_DEPT_FK.DEPARTMENT_ID" Name="DEPARTMENT_ID1" ConstraintType="R" ColumnReference="EMPLOYEES.DEPARTMENT_ID" ForeignColumnReference="DEPARTMENTS.DEPARTMENT_ID"/></ConstraintDefinition><ConstraintDefinition ID="EMP_LAST_NAME_NN" Name="EMP_LAST_NAME_NN" ConstraintType="C" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_LAST_NAME_NN.LAST_NAME" Name="LAST_NAME1" ConstraintType="C" ColumnReference="EMPLOYEES.LAST_NAME" ForeignColumnReference=""/></ConstraintDefinition><ConstraintDefinition ID="EMP_EMAIL_NN" Name="EMP_EMAIL_NN" ConstraintType="C" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_EMAIL_NN.EMAIL" Name="EMAIL1" ConstraintType="C" ColumnReference="EMPLOYEES.EMAIL" ForeignColumnReference=""/></ConstraintDefinition><ColumnDefinition ID="EMPLOYEES.JOB_ID" Name="JOB_ID" Datatype="VARCHAR2" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="10" NullIndicator="N"/><ColumnDefinition ID="EMPLOYEES.PHONE_NUMBER" Name="PHONE_NUMBER" Datatype="VARCHAR2" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="20" NullIndicator="Y"/><ColumnDefinition ID="EMPLOYEES.COMMISSION_PCT" Name="COMMISSION_PCT" Datatype="NUMBER" DecimalPlaces="2" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="Y"/><ConstraintDefinition ID="EMP_HIRE_DATE_NN" Name="EMP_HIRE_DATE_NN" ConstraintType="C" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_HIRE_DATE_NN.HIRE_DATE" Name="HIRE_DATE1" ConstraintType="C" ColumnReference="EMPLOYEES.HIRE_DATE" ForeignColumnReference=""/></ConstraintDefinition><ConstraintDefinition ID="EMP_MANAGER_FK" Name="EMP_MANAGER_FK" ConstraintType="R" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="EMPLOYEES" PrimaryKeyReference="EMP_EMP_ID_PK" UniqueKeyReference=""><KeyComponent ID="EMP_MANAGER_FK.MANAGER_ID" Name="MANAGER_ID1" ConstraintType="R" ColumnReference="EMPLOYEES.MANAGER_ID" ForeignColumnReference="EMPLOYEES.EMPLOYEE_ID"/></ConstraintDefinition><ColumnDefinition ID="EMPLOYEES.SALARY" Name="SALARY" Datatype="NUMBER" DecimalPlaces="2" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="Y"/><ConstraintDefinition ID="EMP_SALARY_MIN" Name="EMP_SALARY_MIN" ConstraintType="C" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_SALARY_MIN.SALARY" Name="SALARY1" ConstraintType="C" ColumnReference="EMPLOYEES.SALARY" ForeignColumnReference=""/></ConstraintDefinition><ColumnDefinition ID="EMPLOYEES.EMAIL" Name="EMAIL" Datatype="VARCHAR2" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="25" NullIndicator="N"/><ConstraintDefinition ID="EMP_EMP_ID_PK" Name="EMP_EMP_ID_PK" ConstraintType="P" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_EMP_ID_PK.EMPLOYEE_ID" Name="EMPLOYEE_ID1" ConstraintType="P" ColumnReference="EMPLOYEES.EMPLOYEE_ID" ForeignColumnReference=""/></ConstraintDefinition><ColumnDefinition ID="EMPLOYEES.MANAGER_ID" Name="MANAGER_ID" Datatype="NUMBER" DecimalPlaces="0" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="Y"/><ColumnDefinition ID="EMPLOYEES.LAST_NAME" Name="LAST_NAME" Datatype="VARCHAR2" DecimalPlaces="" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="25" NullIndicator="N"/><ConstraintDefinition ID="EMP_JOB_FK" Name="EMP_JOB_FK" ConstraintType="R" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="JOBS" PrimaryKeyReference="JOB_ID_PK" UniqueKeyReference=""><KeyComponent ID="EMP_JOB_FK.JOB_ID" Name="JOB_ID1" ConstraintType="R" ColumnReference="EMPLOYEES.JOB_ID" ForeignColumnReference="JOBS.JOB_ID"/></ConstraintDefinition><ConstraintDefinition ID="EMP_JOB_NN" Name="EMP_JOB_NN" ConstraintType="C" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_JOB_NN.JOB_ID" Name="JOB_ID1" ConstraintType="C" ColumnReference="EMPLOYEES.JOB_ID" ForeignColumnReference=""/></ConstraintDefinition><ConstraintDefinition ID="EMP_EMAIL_UK" Name="EMP_EMAIL_UK" ConstraintType="U" DeferStatus="IMMEDIATE" MandatoryFlag="N" ForeignTableReference="" PrimaryKeyReference="" UniqueKeyReference=""><KeyComponent ID="EMP_EMAIL_UK.EMAIL" Name="EMAIL1" ConstraintType="U" ColumnReference="EMPLOYEES.EMAIL" ForeignColumnReference=""/></ConstraintDefinition><ColumnDefinition ID="EMPLOYEES.EMPLOYEE_ID" Name="EMPLOYEE_ID" Datatype="NUMBER" DecimalPlaces="0" DefaultValue="" DefaultValueType="LITERAL" MaximumLength="22" NullIndicator="N"/></TableDefinition></Module>
