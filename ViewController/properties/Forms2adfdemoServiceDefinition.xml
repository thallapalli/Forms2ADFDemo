<?xml version="1.0" encoding="UTF-8"?>
<Service xmlns="http://www.oracle.com/jheadstart/applicationStructure" name="Forms2adfdemo" description="Service Definition for oracle.jheadstart.dt.share.appstruct.generated.Service@51c38330" menuModelFile="/WEB-INF/menu-forms2adfdemo.xml" controllerConfigFile="/WEB-INF/adfc-config-forms2adfdemo.xml" dataControl="Forms2adfdemoServiceDataControl" dataControlImpl="model.service.Forms2adfdemoService" alwaysGenerateFormBindings="false" generateBindingsHiddenItems="false">
   <Group name="HrDepartments" databound="true" dataCollection="HrAppModule.HrDepartments" dataCollectionImpl="HrDepartments" layoutStyle="form" advancedSearch="model-samePage" quickSearch="model" autoQuery="true" tabName="MODULE1" displayTitlePlural="MODULE1" displayTitleSingular="Departments" descriptorAttribute="LocationId" formInsertAllowed="true" formUpdateAllowed="true" formDeleteAllowed="true" tableInsertAllowed="true" tableUpdateAllowed="true" tableDeleteAllowed="true" columns="1" addVerbToFormTitle="false">
      <Item databound="true" name="LocationId" attributeName="LocationId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="false" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true">
         <Triggers/>
      </Item>
      <Item databound="true" name="ManagerId" attributeName="ManagerId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="false" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true">
         <Triggers/>
      </Item>
      <RegionContainer name="MainCv" layoutStyle="vertical">
         <RegionContainer name="MainCvframe5" title="Department" layoutStyle="vertical">
            <ItemRegion name="MainCvframe5itemregion">
               <Item databound="true" name="DepartmentId" attributeName="DepartmentId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="true" displayInTable="false" displayInTableOverflow="false" promptInForm="#{$HINTS$.label}" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="123" YPosition="28">
                  <Triggers/>
               </Item>
               <Item databound="true" name="DepartmentName" attributeName="DepartmentName" javaType="java.lang.String" displayType="textInput" displayInForm="true" displayInTable="false" displayInTableOverflow="false" promptInForm="#{$HINTS$.label}" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="123" YPosition="43">
                  <Triggers/>
               </Item>
               <Item databound="false" name="Location" javaType="java.lang.String" displayType="textInput" displayInForm="true" displayInTable="false" displayInTableOverflow="false" promptInForm="Location" displayWidth="11" displayHeight="1" maximumLength="65" hintText="textInput" alignment="left" updateAllowed="true" disabled="false" required="false" showInQuickSearch="false" showInAdvancedSearch="false" XPosition="123" YPosition="60">
                  <Triggers/>
               </Item>
               <Item databound="false" name="Manager" javaType="java.lang.String" displayType="textInput" displayInForm="true" displayInTable="false" displayInTableOverflow="false" promptInForm="Manager" displayWidth="11" displayHeight="1" maximumLength="65" hintText="textInput" alignment="left" updateAllowed="true" disabled="false" required="false" showInQuickSearch="false" showInAdvancedSearch="false" XPosition="123" YPosition="74">
                  <Triggers/>
               </Item>
            </ItemRegion>
            <GroupRegion name="Control" groupName="HrControl"/>
         </RegionContainer>
         <GroupRegion name="Employees" title="Employees" groupName="HrEmployees"/>
      </RegionContainer>
      <Group name="HrEmployees" databound="true" dependentDataCollection="false" dataCollection="HrAppModule.HrEmployees" dataCollectionImpl="HrEmployees" layoutStyle="table" samePage="true" autoQuery="true" displayTitlePlural="Employees" descriptorAttribute="DepartmentId" formInsertAllowed="true" formUpdateAllowed="true" formDeleteAllowed="true" tableInsertAllowed="true" tableUpdateAllowed="true" tableDeleteAllowed="true" columns="1" showDuplicateRowButton="true" useTableRange="true" tableRangeSize="5">
         <Item databound="true" name="DepartmentId" attributeName="DepartmentId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="false" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true">
            <Triggers/>
         </Item>
         <Item databound="true" name="ManagerId" attributeName="ManagerId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="false" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true">
            <Triggers/>
         </Item>
         <Item databound="true" name="MEmployeeId" attributeName="MEmployeeId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="76" YPosition="17">
            <Triggers/>
         </Item>
         <Item databound="true" name="MFirstName" attributeName="MFirstName" javaType="java.lang.String" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="74" YPosition="41">
            <Triggers/>
         </Item>
         <Item databound="true" name="MLastName" attributeName="MLastName" javaType="java.lang.String" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayAtRightOf="MFirstName" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="280" YPosition="42">
            <Triggers/>
         </Item>
         <Item databound="true" name="JobId" attributeName="JobId" javaType="java.lang.String" displayType="model-inputTextLov" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="75" YPosition="66">
            <Triggers/>
         </Item>
         <Item databound="false" name="JobLovBtn" javaType="java.lang.String" displayType="commandButton" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayAtRightOf="JobId" promptInForm="" displayWidth="5" displayHeight="1" hintText="textInput" alignment="left" updateAllowed="true" disabled="false" required="false" showInQuickSearch="false" showInAdvancedSearch="false" XPosition="153" YPosition="64">
            <Triggers>
               <Trigger name="WHEN-BUTTON-PRESSED" text="GO_ITEM('EMPLOYEES.JOB_ID');&amp;amp;#10;LIST_VALUES;"/>
            </Triggers>
         </Item>
         <Item databound="true" name="Email" attributeName="Email" javaType="java.lang.String" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="72" YPosition="95">
            <Triggers/>
         </Item>
         <Item databound="true" name="PhoneNumber" attributeName="PhoneNumber" javaType="java.lang.String" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayAtRightOf="Email" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="313" YPosition="95">
            <Triggers/>
         </Item>
         <Item databound="true" name="HireDate" attributeName="HireDate" javaType="oracle.jbo.domain.Date" displayType="dateField" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="73" YPosition="135">
            <Triggers/>
         </Item>
         <Item databound="true" name="Salary" attributeName="Salary" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayAtRightOf="HireDate" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="233" YPosition="137">
            <Triggers/>
         </Item>
         <Item databound="true" name="CommissionPct" attributeName="CommissionPct" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="false" displayInTableOverflow="true" displayAtRightOf="Salary" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="410" YPosition="136">
            <Triggers/>
         </Item>
         <Item databound="true" name="EmployeeId" attributeName="EmployeeId" javaType="oracle.jbo.domain.Number" displayType="textInput" displayInForm="false" displayInTable="true" displayInTableOverflow="false" promptInForm="#{$HINTS$.label}" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="24" YPosition="133">
            <Triggers/>
         </Item>
         <Item databound="true" name="FirstName" attributeName="FirstName" javaType="java.lang.String" displayType="textInput" displayInForm="false" displayInTable="true" displayInTableOverflow="false" promptInForm="#{$HINTS$.label}" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="78" YPosition="133">
            <Triggers/>
         </Item>
         <Item databound="true" name="LastName" attributeName="LastName" javaType="java.lang.String" displayType="textInput" displayInForm="false" displayInTable="true" displayInTableOverflow="false" promptInForm="#{$HINTS$.label}" displayWidth="#{$HINTS$.displayWidth}" displayHeight="#{$HINTS$.displayHeight}" maximumLength="#{$HINTS$.precision}" hintText="#{$HINTS$.tooltip}" alignment="left" updateAllowed="true" disabled="false" required="#{$HINTS$.mandatory}" showInQuickSearch="true" showInAdvancedSearch="true" XPosition="220" YPosition="133">
            <Triggers/>
         </Item>
         <Item databound="false" name="DetailsBtn" javaType="java.lang.String" displayType="commandButton" displayInForm="false" displayInTable="true" displayInTableOverflow="false" promptInForm="Details" displayWidth="7" displayHeight="1" hintText="textInput" alignment="left" updateAllowed="true" disabled="false" required="false" showInQuickSearch="false" showInAdvancedSearch="false" XPosition="396" YPosition="133">
            <Triggers>
               <Trigger name="WHEN-BUTTON-PRESSED" text="GO_ITEM('job_id');"/>
               <Trigger name="KEY-NEXT-ITEM" text="do_key('next_record');"/>
            </Triggers>
         </Item>
         <Triggers>
            <Trigger name="WHEN-BUTTON-PRESSED" text="GO_ITEM('EMPLOYEES.JOB_ID');&amp;amp;#10;LIST_VALUES;"/>
            <Trigger name="KEY-NEXT-ITEM" text="do_key('next_record');"/>
         </Triggers>
      </Group>
      <Group name="HrControl" databound="false" dependentDataCollection="false" layoutStyle="form" samePage="true" displayTitlePlural="Control" displayTitleSingular="Control" showTitle="false" descriptorAttribute="SalSum" formInsertAllowed="true" formUpdateAllowed="true" formDeleteAllowed="true" tableInsertAllowed="true" tableUpdateAllowed="true" tableDeleteAllowed="true" columns="1">
         <Item databound="false" name="SalSum" javaType="java.lang.String" displayType="textInput" displayInForm="true" displayInTable="false" displayInTableOverflow="false" promptInForm="Total Salaries" displayWidth="10" displayHeight="1" maximumLength="14" hintText="textInput" alignment="left" updateAllowed="true" disabled="false" required="false" showInQuickSearch="false" showInAdvancedSearch="false" XPosition="235" YPosition="71">
            <Triggers/>
         </Item>
         <Triggers/>
      </Group>
      <ProgramUnits>
         <ProgramUnit name="CHECK_PACKAGE_FAILURE" programUnitType="Procedure" text="Procedure Check_Package_Failure IS&amp;amp;#10;BEGIN&amp;amp;#10;  IF NOT ( Form_Success ) THEN&amp;amp;#10;    RAISE Form_Trigger_Failure;&amp;amp;#10;  END IF;&amp;amp;#10;END;"/>
         <ProgramUnit name="QUERY_MASTER_DETAILS" programUnitType="Procedure" text="PROCEDURE Query_Master_Details(rel_id Relation,detail VARCHAR2) IS&amp;amp;#10;  oldmsg VARCHAR2(2);  -- Old Message Level Setting&amp;amp;#10;  reldef VARCHAR2(5);  -- Relation Deferred Setting&amp;amp;#10;BEGIN&amp;amp;#10;  --&amp;amp;#10;  -- Initialize Local Variable(s)&amp;amp;#10;  --&amp;amp;#10;  reldef := Get_Relation_Property(rel_id, DEFERRED_COORDINATION);&amp;amp;#10;  oldmsg := :System.Message_Level;&amp;amp;#10;  --&amp;amp;#10;  -- If NOT Deferred, Goto detail and execute the query.&amp;amp;#10;  --&amp;amp;#10;  IF reldef = 'FALSE' THEN&amp;amp;#10;    Go_Block(detail);&amp;amp;#10;    Check_Package_Failure;&amp;amp;#10;    :System.Message_Level := '10';&amp;amp;#10;    Execute_Query;&amp;amp;#10;    :System.Message_Level := oldmsg;&amp;amp;#10;  ELSE&amp;amp;#10;    --&amp;amp;#10;    -- Relation is deferred, mark the detail block as un-coordinated&amp;amp;#10;    --&amp;amp;#10;    Set_Block_Property(detail, COORDINATION_STATUS, NON_COORDINATED);&amp;amp;#10;  END IF;&amp;amp;#10;&amp;amp;#10;EXCEPTION&amp;amp;#10;    WHEN Form_Trigger_Failure THEN&amp;amp;#10;      :System.Message_Level := oldmsg;&amp;amp;#10;      RAISE;&amp;amp;#10;END Query_Master_Details;&amp;amp;#10;"/>
         <ProgramUnit name="CLEAR_ALL_MASTER_DETAILS" programUnitType="Procedure" text="PROCEDURE Clear_All_Master_Details IS&amp;amp;#10;  mastblk  VARCHAR2(30);  -- Initial Master Block Causing Coord&amp;amp;#10;  coordop  VARCHAR2(30);  -- Operation Causing the Coord&amp;amp;#10;  trigblk  VARCHAR2(30);  -- Cur Block On-Clear-Details Fires On&amp;amp;#10;  startitm VARCHAR2(61);  -- Item in which cursor started&amp;amp;#10;  frmstat  VARCHAR2(15);  -- Form Status&amp;amp;#10;  curblk   VARCHAR2(30);  -- Current Block&amp;amp;#10;  currel   VARCHAR2(30);  -- Current Relation&amp;amp;#10;  curdtl   VARCHAR2(30);  -- Current Detail Block&amp;amp;#10;&amp;amp;#10;  FUNCTION First_Changed_Block_Below(Master VARCHAR2)&amp;amp;#10;  RETURN VARCHAR2 IS&amp;amp;#10;    curblk VARCHAR2(30);  -- Current Block&amp;amp;#10;    currel VARCHAR2(30);  -- Current Relation&amp;amp;#10;    retblk VARCHAR2(30);  -- Return Block&amp;amp;#10;  BEGIN&amp;amp;#10;    --&amp;amp;#10;    -- Initialize Local Vars&amp;amp;#10;    --&amp;amp;#10;    curblk := Master;&amp;amp;#10;    currel := Get_Block_Property(curblk,  FIRST_MASTER_RELATION);&amp;amp;#10;    --&amp;amp;#10;    -- While there exists another relation for this block&amp;amp;#10;    --&amp;amp;#10;    WHILE currel IS NOT NULL LOOP&amp;amp;#10;      --&amp;amp;#10;      -- Get the name of the detail block&amp;amp;#10;      --&amp;amp;#10;      curblk := Get_Relation_Property(currel, DETAIL_NAME);&amp;amp;#10;      --&amp;amp;#10;      -- If this block has changes, return its name&amp;amp;#10;      --&amp;amp;#10;      IF ( Get_Block_Property(curblk, STATUS) = 'CHANGED' ) THEN&amp;amp;#10;        RETURN curblk;&amp;amp;#10;      ELSE&amp;amp;#10;        --&amp;amp;#10;        -- No changes, recursively look for changed blocks below&amp;amp;#10;        --&amp;amp;#10;        retblk := First_Changed_Block_Below(curblk);&amp;amp;#10;        --&amp;amp;#10;        -- If some block below is changed, return its name&amp;amp;#10;        --&amp;amp;#10;        IF retblk IS NOT NULL THEN&amp;amp;#10;          RETURN retblk;&amp;amp;#10;        ELSE&amp;amp;#10;          --&amp;amp;#10;          -- Consider the next relation&amp;amp;#10;          --&amp;amp;#10;          currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;amp;#10;        END IF;&amp;amp;#10;      END IF;&amp;amp;#10;    END LOOP;&amp;amp;#10;&amp;amp;#10;    --&amp;amp;#10;    -- No changed blocks were found&amp;amp;#10;    --&amp;amp;#10;    RETURN NULL;&amp;amp;#10;  END First_Changed_Block_Below;&amp;amp;#10;&amp;amp;#10;BEGIN&amp;amp;#10;  --&amp;amp;#10;  -- Init Local Vars&amp;amp;#10;  --&amp;amp;#10;  mastblk  := :System.Master_Block;&amp;amp;#10;  coordop  := :System.Coordination_Operation;&amp;amp;#10;  trigblk  := :System.Trigger_Block;&amp;amp;#10;  startitm := :System.Cursor_Item;&amp;amp;#10;  frmstat  := :System.Form_Status;&amp;amp;#10;&amp;amp;#10;  --&amp;amp;#10;  -- If the coordination operation is anything but CLEAR_RECORD or&amp;amp;#10;  -- SYNCHRONIZE_BLOCKS, then continue checking.&amp;amp;#10;  --&amp;amp;#10;  IF coordop NOT IN ('CLEAR_RECORD', 'SYNCHRONIZE_BLOCKS') THEN&amp;amp;#10;    --&amp;amp;#10;    -- If we're processing the driving master block...&amp;amp;#10;    --&amp;amp;#10;    IF mastblk = trigblk THEN&amp;amp;#10;      --&amp;amp;#10;      -- If something in the form is changed, find the&amp;amp;#10;      -- first changed block below the master&amp;amp;#10;      --&amp;amp;#10;      IF frmstat = 'CHANGED' THEN&amp;amp;#10;        curblk := First_Changed_Block_Below(mastblk);&amp;amp;#10;        --&amp;amp;#10;        -- If we find a changed block below, go there&amp;amp;#10;        -- and Ask to commit the changes.&amp;amp;#10;        --&amp;amp;#10;        IF curblk IS NOT NULL THEN&amp;amp;#10;          Go_Block(curblk);&amp;amp;#10;          Check_Package_Failure;&amp;amp;#10;          Clear_Block(ASK_COMMIT);&amp;amp;#10;          --&amp;amp;#10;          -- If user cancels commit dialog, raise error&amp;amp;#10;          --&amp;amp;#10;          IF NOT ( :System.Form_Status = 'QUERY'&amp;amp;#10;                   OR :System.Block_Status = 'NEW' ) THEN&amp;amp;#10;            RAISE Form_Trigger_Failure;&amp;amp;#10;          END IF;&amp;amp;#10;        END IF;&amp;amp;#10;      END IF;&amp;amp;#10;    END IF;&amp;amp;#10;  END IF;&amp;amp;#10;&amp;amp;#10;  --&amp;amp;#10;  -- Clear all the detail blocks for this master without&amp;amp;#10;  -- any further asking to commit.&amp;amp;#10;  --&amp;amp;#10;  currel := Get_Block_Property(trigblk, FIRST_MASTER_RELATION);&amp;amp;#10;  WHILE currel IS NOT NULL LOOP&amp;amp;#10;    curdtl := Get_Relation_Property(currel, DETAIL_NAME);&amp;amp;#10;    IF Get_Block_Property(curdtl, STATUS) &amp;lt;&amp;gt; 'NEW'  THEN&amp;amp;#10;      Go_Block(curdtl);&amp;amp;#10;      Check_Package_Failure;&amp;amp;#10;      Clear_Block(NO_VALIDATE);&amp;amp;#10;      IF :System.Block_Status &amp;lt;&amp;gt; 'NEW' THEN&amp;amp;#10;        RAISE Form_Trigger_Failure;&amp;amp;#10;      END IF;&amp;amp;#10;    END IF;&amp;amp;#10;    currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;amp;#10;  END LOOP;&amp;amp;#10;&amp;amp;#10;  --&amp;amp;#10;  -- Put cursor back where it started&amp;amp;#10;  --&amp;amp;#10;  IF :System.Cursor_Item &amp;lt;&amp;gt; startitm THEN&amp;amp;#10;    Go_Item(startitm);&amp;amp;#10;    Check_Package_Failure;&amp;amp;#10;  END IF;&amp;amp;#10;&amp;amp;#10;EXCEPTION&amp;amp;#10;  WHEN Form_Trigger_Failure THEN&amp;amp;#10;    IF :System.Cursor_Item &amp;lt;&amp;gt; startitm THEN&amp;amp;#10;      Go_Item(startitm);&amp;amp;#10;    END IF;&amp;amp;#10;    RAISE;&amp;amp;#10;&amp;amp;#10;END Clear_All_Master_Details;&amp;amp;#10;"/>
      </ProgramUnits>
      <FormTriggers>
         <Trigger name="ON-CLEAR-DETAILS" text="--&amp;amp;#10;-- Begin default relation program section&amp;amp;#10;--&amp;amp;#10;BEGIN&amp;amp;#10;  Clear_All_Master_Details;&amp;amp;#10;END;&amp;amp;#10;--&amp;amp;#10;-- End default relation program section&amp;amp;#10;--&amp;amp;#10;"/>
         <Trigger name="WHEN-NEW-FORM-INSTANCE" text="DO_KEY('EXECUTE_QUERY');"/>
         <Trigger name="WHEN-WINDOW-CLOSED" text="IF :SYSTEM.CURSOR_ITEM IN ('EMPLOYEES.M_EMPLOYEE_ID',&amp;amp;#10;   'EMPLOYEES.M_FIRST_NAME',&amp;amp;#10;   'EMPLOYEES.M_LAST_NAME',&amp;amp;#10;   'EMPLOYEES.JOB_ID',&amp;amp;#10;   'EMPLOYEES.EMAIL',&amp;amp;#10;   'EMPLOYEES.PHONE_NUMBER',&amp;amp;#10;   'EMPLOYEES.HIRE_DATE',&amp;amp;#10;   'EMPLOYEES.SALARY',&amp;amp;#10;   'EMPLOYEES.COMMISSION_PCT') THEN&amp;amp;#10;   GO_ITEM('employee_id');&amp;amp;#10;   HIDE_WINDOW('emp_details_win');&amp;amp;#10;END IF;"/>
      </FormTriggers>
      <Triggers>
         <Trigger name="ON-POPULATE-DETAILS" text="--&amp;amp;#10;-- Begin default relation declare section&amp;amp;#10;--&amp;amp;#10;DECLARE&amp;amp;#10;  recstat     VARCHAR2(20) := :System.record_status;   &amp;amp;#10;  startitm    VARCHAR2(61) := :System.cursor_item;   &amp;amp;#10;  rel_id      Relation;&amp;amp;#10;--&amp;amp;#10;-- End default relation declare section&amp;amp;#10;--&amp;amp;#10;--&amp;amp;#10;-- Begin default relation program section&amp;amp;#10;--&amp;amp;#10;BEGIN&amp;amp;#10;  IF ( recstat = 'NEW' or recstat = 'INSERT' ) THEN   &amp;amp;#10;    RETURN;&amp;amp;#10;  END IF;&amp;amp;#10;  --&amp;amp;#10;  -- Begin EMPLOYEES detail program section&amp;amp;#10;  --&amp;amp;#10;  IF ( (:DEPARTMENTS.DEPARTMENT_ID is not null) ) THEN   &amp;amp;#10;    rel_id := Find_Relation('DEPARTMENTS.DEPARTMENTS_EMPLOYEES');   &amp;amp;#10;    Query_Master_Details(rel_id, 'EMPLOYEES');   &amp;amp;#10;  END IF;&amp;amp;#10;  --&amp;amp;#10;  -- End EMPLOYEES detail program section&amp;amp;#10;  --&amp;amp;#10;&amp;amp;#10;  IF ( :System.cursor_item &amp;lt;&amp;gt; startitm ) THEN     &amp;amp;#10;     Go_Item(startitm);     &amp;amp;#10;     Check_Package_Failure;     &amp;amp;#10;  END IF;&amp;amp;#10;END;&amp;amp;#10;--&amp;amp;#10;-- End default relation program section&amp;amp;#10;--&amp;amp;#10;"/>
         <Trigger name="ON-CHECK-DELETE-MASTER" text="--&amp;amp;#10;-- Begin default relation declare section&amp;amp;#10;--&amp;amp;#10;DECLARE&amp;amp;#10;  Dummy_Define CHAR(1);&amp;amp;#10;  --&amp;amp;#10;  -- Begin EMPLOYEES detail declare section&amp;amp;#10;  --&amp;amp;#10;  CURSOR EMPLOYEES_cur IS      &amp;amp;#10;    SELECT 1 FROM EMPLOYEES E     &amp;amp;#10;    WHERE E.DEPARTMENT_ID = :DEPARTMENTS.DEPARTMENT_ID;&amp;amp;#10;  --&amp;amp;#10;  -- End EMPLOYEES detail declare section&amp;amp;#10;  --&amp;amp;#10;--&amp;amp;#10;-- End default relation declare section&amp;amp;#10;--&amp;amp;#10;--&amp;amp;#10;-- Begin default relation program section&amp;amp;#10;--&amp;amp;#10;BEGIN&amp;amp;#10;  --&amp;amp;#10;  -- Begin EMPLOYEES detail program section&amp;amp;#10;  --&amp;amp;#10;  OPEN EMPLOYEES_cur;     &amp;amp;#10;  FETCH EMPLOYEES_cur INTO Dummy_Define;     &amp;amp;#10;  IF ( EMPLOYEES_cur%found ) THEN     &amp;amp;#10;    Message('Cannot delete master record when matching detail records exist.');     &amp;amp;#10;    CLOSE EMPLOYEES_cur;     &amp;amp;#10;    RAISE Form_Trigger_Failure;     &amp;amp;#10;  END IF;&amp;amp;#10;  CLOSE EMPLOYEES_cur;&amp;amp;#10;  --&amp;amp;#10;  -- End EMPLOYEES detail program section&amp;amp;#10;  --&amp;amp;#10;END;&amp;amp;#10;--&amp;amp;#10;-- End default relation program section&amp;amp;#10;--&amp;amp;#10;"/>
         <Trigger name="POST-QUERY" text="SELECT CITY || ', ' || STATE_PROVINCE || ', '&amp;amp;#10;|| COUNTRY_ID&amp;amp;#10;INTO :departments.location&amp;amp;#10;FROM locations&amp;amp;#10;WHERE :departments.location_id = location_id;&amp;amp;#10;&amp;amp;#10;SELECT FIRST_NAME || ' ' || LAST_NAME&amp;amp;#10;INTO :departments.manager&amp;amp;#10;FROM employees&amp;amp;#10;WHERE :departments.manager_id = employee_id;"/>
      </Triggers>
   </Group>
   <Domains/>
   <Templates/>
</Service>
